<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Decibelímetro</title>
        <link rel="icon" type="image/x-icon" href="img/icone.jpg" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
            <div class="container px-5">
                <a class="navbar-brand" href="#page-top"><img src="img/logo2.png" alt="..." /></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="index.html">Sobre</a></li>
                        <li class="nav-item"><a class="nav-link" href="tabela.html">Tabela informativa</a></li>
                        <li class="nav-item"><a class="nav-link" href="decibelimetro.html">Decibelímetro</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    

        <header class="masthead text-center text-white" >
            <div class="masthead-content">
                <div class="container px-5">
                    <h1 class="masthead-heading mb-0">Decibelímetro</h1>
                </div>
            </div>
        </header>
    </body>

   <body>

        <div class="container mt-3">
        <h2>O que é um decibelímetro?</h2>
        <p align='justify'>Segundo o centro de tecnologia da UFPB e o artigo feito pela loja Akrom, o decibelímetro é um aparelho utilizado para realizar medição de níveis de ruído de um determinado ambiente, onde é capaz de transformar o som em um dado numérico aproximado, onde a unidade de medidas são os decibéis.</p>
        </div>

        <div class="container mt-3">
        <h2>Como utilizar o decibelímetro abaixo:</h2>
        <ul>
            <li>Não efetuar medições na ocorrência de chuva;</li>
            <li>manter uma distância mínima de 2 m entre o microfone e qualquer superfície que seja refletiva;</li>
            <li>Garantir que a altura do microfone permaneça entre 1,20 e 1,50 m acima do solo;</li>
            <li>Posicionar o microfone a uma distância de 0,5 m de uma janela aberta no caso de medição feita próximo de edificações. </li> </ul>
        </div>

        <div class="container mt-3">
          <h2>Relembrando</h2>
      <table class="table table-striped">
      <thead>
        <tr>
          <th>Horário</th>
          <th>Decibéis (dB)</th>
        </tr>
      </thead>
      <tbody>
      <tr>
        <td>7h às 19h (período diurno)</td>
        <td>70 dB</td>
      </tr>

      <tr>
        <td>22h e 23h59 (período noturno)</td>
        <td>50 dB</td>
      </tr>

      <tr>
        <td>A partir da 00h até 7h</td>
        <td>45 dB</td>
      </tr>
    </tbody>
  </table>
</div>



        <div class="container mt-3">
        <h2>Decibelímetro</h2>
        
        <head>
            <script>
            
              let audioIN = { audio: true };
              //  audio is true, for recording
            
              // Access the permission for use
              // the microphone
              navigator.mediaDevices.getUserMedia(audioIN)
            
                // 'then()' method returns a Promise
                .then(function (mediaStreamObj) {
            
                  // Connect the media stream to the
                  // first audio element
                  let audio = document.querySelector('audio');
                  //returns the recorded audio via 'audio' tag
            
                  // 'srcObject' is a property which 
                  // takes the media object
                  // This is supported in the newer browsers
                  if ("srcObject" in audio) {
                    audio.srcObject = mediaStreamObj;
                  }
                  else {   // Old version
                    audio.src = window.URL
                      .createObjectURL(mediaStreamObj);
                  }
            
                  // It will play the audio
                  audio.onloadedmetadata = function (ev) {
            
                    // Play the audio in the 2nd audio
                    // element what is being recorded
                    audio.play();
                  };
            
                  // Start record
                  let start = document.getElementById('btnStart');
            
                  // Stop record
                  let stop = document.getElementById('btnStop');
            
                  // 2nd audio tag for play the audio
                  let playAudio = document.getElementById('adioPlay');
            
                  // This is the main thing to recorde 
                  // the audio 'MediaRecorder' API
                  let mediaRecorder = new MediaRecorder(mediaStreamObj);
                  // Pass the audio stream 
            
                  // Start event
                  start.addEventListener('click', function (ev) {
                    mediaRecorder.start();
                    // console.log(mediaRecorder.state);
                  })
            
                  // Stop event
                  stop.addEventListener('click', function (ev) {
                    mediaRecorder.stop();
                    // console.log(mediaRecorder.state);
                  });
            
                  // If audio data available then push 
                  // it to the chunk array
                  mediaRecorder.ondataavailable = function (ev) {
                    dataArray.push(ev.data);
                  }
            
                  // Chunk array to store the audio data 
                  let dataArray = [];
            
                  // Convert the audio data in to blob 
                  // after stopping the recording
                  mediaRecorder.onstop = function (ev) {
            
                    // blob of type mp3
                    let audioData = new Blob(dataArray, 
                              { 'type': 'audio/mp3;' });
                      
                    // After fill up the chunk 
                    // array make it empty
                    dataArray = [];
            
                    // Creating audio url with reference 
                    // of created blob named 'audioData'
                    let audioSrc = window.URL
                        .createObjectURL(audioData);
            
                    // Pass the audio url to the 2nd video tag
                    playAudio.src = audioSrc;
                  }
                })
            
                // If any error occurs then handles the error 
                .catch(function (err) {
                  console.log(err.name, err.message);
                });
            </script>
          </head>
          
            
          <body">

            <!--button for 'start recording'-->
            <p>
              <button id="btnStart">Iniciar gravação</button>
                          
              <button id="btnStop">Parar gravação</button>
              <!--button for 'stop recording'-->
            </p>
            
            <!--for record-->
            <audio controls></audio>
            <!--'controls' use for add 
              play, pause, and volume-->
            
            <!--for play the audio-->
            <audio id="adioPlay" controls></audio>
          </body></div>




   	



<br>
<br>

<!-- Footer-->
        <footer class="py-5 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; Dayanna, Julia V. e Letícia 2022</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>
   </body>

</html>
